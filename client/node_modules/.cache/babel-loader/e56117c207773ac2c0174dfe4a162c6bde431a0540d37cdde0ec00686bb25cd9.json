{"ast":null,"code":"var _s = $RefreshSig$();\nimport { Flex, Box, FormControl, FormLabel, Input, InputGroup, InputRightElement, Checkbox, Stack, Link, Button, Heading, Text, useToast, useColorModeValue } from \"@chakra-ui/react\";\nimport { ViewIcon, ViewOffIcon } from \"@chakra-ui/icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useContext } from \"react\";\nimport { UserContext } from \"../../context\";\nimport axios from \"axios\";\nexport default function SimpleCard() {\n  _s();\n  const [showPassword, setShowPassword] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showError, setError] = useState(\"\");\n  // eslint-disable-next-line\n  const [user, setUser] = useContext(UserContext);\n  const navigate = useNavigate();\n  const toast = useToast();\n  const handleLogin = async () => {\n    await axios.post(\"https://3mftky-8080.csb.app/auth/login\", {\n      email: email,\n      password: password\n    }).then(res => {\n      console.log(\"Logged in successfully!\");\n      localStorage.setItem(\"token\", res.data.token);\n      navigate(\"/\");\n      setUser({\n        user: res.data.user,\n        loading: false,\n        error: null\n      });\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${res.data.token}`;\n      toast({\n        title: \"Login successfully\",\n        status: \"success\",\n        duration: 2000,\n        isClosable: true\n      });\n    }, error => {\n      setError(error.response.data.errors[0]);\n      toast({\n        title: \"Unable to sign in\",\n        description: \"Please try again with the required fields.\",\n        status: \"error\",\n        duration: 2000,\n        isClosable: true\n      });\n    });\n  };\n}\n_s(SimpleCard, \"Xe3qIpuhiRUoR/DIZGwk7idEXEI=\", false, function () {\n  return [useNavigate, useToast];\n});\n_c = SimpleCard;\nvar _c;\n$RefreshReg$(_c, \"SimpleCard\");","map":{"version":3,"names":["Flex","Box","FormControl","FormLabel","Input","InputGroup","InputRightElement","Checkbox","Stack","Link","Button","Heading","Text","useToast","useColorModeValue","ViewIcon","ViewOffIcon","useNavigate","useState","useContext","UserContext","axios","SimpleCard","_s","showPassword","setShowPassword","email","setEmail","password","setPassword","showError","setError","user","setUser","navigate","toast","handleLogin","post","then","res","console","log","localStorage","setItem","data","token","loading","error","defaults","headers","common","title","status","duration","isClosable","response","errors","description","_c","$RefreshReg$"],"sources":["C:/Users/5138HoangVanDat/Downloads/sandbox (1)/client/src/Components/Authentication/Login.jsx"],"sourcesContent":["import {\n  Flex,\n  Box,\n  FormControl,\n  FormLabel,\n  Input,\n  InputGroup,\n  InputRightElement,\n  Checkbox,\n  Stack,\n  Link,\n  Button,\n  Heading,\n  Text,\n  useToast,\n  useColorModeValue,\n} from \"@chakra-ui/react\";\nimport { ViewIcon, ViewOffIcon } from \"@chakra-ui/icons\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useContext } from \"react\";\nimport { UserContext } from \"../../context\";\nimport axios from \"axios\";\n\nexport default function SimpleCard() {\n  const [showPassword, setShowPassword] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showError, setError] = useState(\"\");\n  // eslint-disable-next-line\n  const [user, setUser] = useContext(UserContext);\n\n  const navigate = useNavigate();\n  const toast = useToast();\n  const handleLogin = async () => {\n    await axios\n      .post(\"https://3mftky-8080.csb.app/auth/login\", {\n        email: email,\n        password: password,\n      })\n      .then(\n        (res) => {\n          console.log(\"Logged in successfully!\");\n          localStorage.setItem(\"token\", res.data.token);\n          navigate(\"/\");\n          setUser({ user: res.data.user, loading: false, error: null });\n          axios.defaults.headers.common[\"Authorization\"] =\n            `Bearer ${res.data.token}`;\n\n          toast({\n            title: \"Login successfully\",\n            status: \"success\",\n            duration: 2000,\n            isClosable: true,\n          });\n        },\n        (error) => {\n          setError(error.response.data.errors[0]);\n          toast({\n            title: \"Unable to sign in\",\n            description: \"Please try again with the required fields.\",\n            status: \"error\",\n            duration: 2000,\n            isClosable: true,\n          });\n        },\n      );\n  };\n\n  \n}\n"],"mappings":";AAAA,SACEA,IAAI,EACJC,GAAG,EACHC,WAAW,EACXC,SAAS,EACTC,KAAK,EACLC,UAAU,EACVC,iBAAiB,EACjBC,QAAQ,EACRC,KAAK,EACLC,IAAI,EACJC,MAAM,EACNC,OAAO,EACPC,IAAI,EACJC,QAAQ,EACRC,iBAAiB,QACZ,kBAAkB;AACzB,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAExD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,eAAe;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,SAAS,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC1C;EACA,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGd,UAAU,CAACC,WAAW,CAAC;EAE/C,MAAMc,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAMkB,KAAK,GAAGtB,QAAQ,CAAC,CAAC;EACxB,MAAMuB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMf,KAAK,CACRgB,IAAI,CAAC,wCAAwC,EAAE;MAC9CX,KAAK,EAAEA,KAAK;MACZE,QAAQ,EAAEA;IACZ,CAAC,CAAC,CACDU,IAAI,CACFC,GAAG,IAAK;MACPC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACtCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,GAAG,CAACK,IAAI,CAACC,KAAK,CAAC;MAC7CX,QAAQ,CAAC,GAAG,CAAC;MACbD,OAAO,CAAC;QAAED,IAAI,EAAEO,GAAG,CAACK,IAAI,CAACZ,IAAI;QAAEc,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MAC7D1B,KAAK,CAAC2B,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAC3C,UAASX,GAAG,CAACK,IAAI,CAACC,KAAM,EAAC;MAE5BV,KAAK,CAAC;QACJgB,KAAK,EAAE,oBAAoB;QAC3BC,MAAM,EAAE,SAAS;QACjBC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CAAC,EACAP,KAAK,IAAK;MACThB,QAAQ,CAACgB,KAAK,CAACQ,QAAQ,CAACX,IAAI,CAACY,MAAM,CAAC,CAAC,CAAC,CAAC;MACvCrB,KAAK,CAAC;QACJgB,KAAK,EAAE,mBAAmB;QAC1BM,WAAW,EAAE,4CAA4C;QACzDL,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CACF,CAAC;EACL,CAAC;AAGH;AAAC/B,EAAA,CA9CuBD,UAAU;EAAA,QAQfL,WAAW,EACdJ,QAAQ;AAAA;AAAA6C,EAAA,GATApC,UAAU;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}