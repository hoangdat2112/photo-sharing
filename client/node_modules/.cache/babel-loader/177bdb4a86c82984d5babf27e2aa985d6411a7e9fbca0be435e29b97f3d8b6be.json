{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\5138HoangVanDat\\\\Downloads\\\\sandbox (1)\\\\client\\\\src\\\\Components\\\\Posts\\\\PostComment.jsx\",\n  _s = $RefreshSig$();\nimport { Modal, ModalOverlay, ModalContent, ModalHeader, ModalFooter, ModalBody, ModalCloseButton, FormControl, FormLabel, Button, Textarea, useToast, Center, Heading } from \"@chakra-ui/react\";\nimport { ChatIcon } from \"@chakra-ui/icons\";\nimport Comments from \"./Comments\";\nimport { useState, useEffect, useContext, useRef } from \"react\";\nimport { UserContext } from \"../../context\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function InitialFocus({\n  postId,\n  isOpen,\n  onOpen,\n  onClose\n}) {\n  _s();\n  const initialRef = useRef();\n  const [user] = useContext(UserContext);\n  const [body, setBody] = useState(\"\");\n  const [comments, setComments] = useState([]);\n  const toast = useToast();\n  const fetchComments = () => {\n    axios.get(`http://localhost:8080/comments/${postId}`).then(res => {\n      let comments = res.data;\n      comments.sort((a, b) => {\n        return new Date(b.date) - new Date(a.date);\n      });\n      setComments(comments);\n    }, err => {\n      console.warn(err);\n    });\n  };\n  useEffect(() => {\n    fetchComments();\n  }, []);\n  const handleSubmitComment = () => {\n    axios.post(\"https://3mftky-8080.csb.app/comments/createComment\", {\n      postId: postId,\n      author: user.user.id,\n      authorName: user.user.firstName + \" \" + user.user.lastName,\n      body: body\n    }).then(res => {\n      setBody(\"\");\n      toast({\n        title: \"Comment created successfully!\",\n        description: \"\",\n        status: \"success\",\n        duration: 2000,\n        isClosable: true\n      });\n      fetchComments();\n    }, error => {\n      toast({\n        title: \"Unable to create comment\",\n        description: error.response.data.errors[0],\n        status: \"error\",\n        duration: 2000,\n        isClosable: true\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      initialFocusRef: initialRef,\n      isOpen: isOpen,\n      onClose: onClose,\n      isCentered: true,\n      motionPreset: \"slideInBottom\",\n      children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {\n        bg: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: [/*#__PURE__*/_jsxDEV(Center, {\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              fontSize: \"xx-large\",\n              mb: 5,\n              children: [\" \", \"Comments\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Comments, {\n            setComments: setComments,\n            comments: comments,\n            postId: postId,\n            fetchComments: fetchComments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          pb: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"New Comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              placeholder: \"Enter comment\",\n              value: body,\n              onChange: event => setBody(event.target.value),\n              maxLength: 75\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"blue\",\n            mr: 3,\n            leftIcon: /*#__PURE__*/_jsxDEV(ChatIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 25\n            }, this),\n            onClick: handleSubmitComment,\n            children: \"Post Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(InitialFocus, \"lz4VtaAbf9VN0AtMxD5Zy591ZjM=\", false, function () {\n  return [useToast];\n});\n_c = InitialFocus;\nvar _c;\n$RefreshReg$(_c, \"InitialFocus\");","map":{"version":3,"names":["Modal","ModalOverlay","ModalContent","ModalHeader","ModalFooter","ModalBody","ModalCloseButton","FormControl","FormLabel","Button","Textarea","useToast","Center","Heading","ChatIcon","Comments","useState","useEffect","useContext","useRef","UserContext","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","InitialFocus","postId","isOpen","onOpen","onClose","_s","initialRef","user","body","setBody","comments","setComments","toast","fetchComments","get","then","res","data","sort","a","b","Date","date","err","console","warn","handleSubmitComment","post","author","id","authorName","firstName","lastName","title","description","status","duration","isClosable","error","response","errors","children","initialFocusRef","isCentered","motionPreset","bg","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","mb","pb","placeholder","value","onChange","event","target","maxLength","colorScheme","mr","leftIcon","onClick","_c","$RefreshReg$"],"sources":["C:/Users/5138HoangVanDat/Downloads/sandbox (1)/client/src/Components/Posts/PostComment.jsx"],"sourcesContent":["import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalFooter,\n  ModalBody,\n  ModalCloseButton,\n  FormControl,\n  FormLabel,\n  Button,\n  Textarea,\n  useToast,\n  Center,\n  Heading,\n} from \"@chakra-ui/react\";\n\nimport { ChatIcon } from \"@chakra-ui/icons\";\nimport Comments from \"./Comments\";\nimport { useState, useEffect, useContext, useRef } from \"react\";\nimport { UserContext } from \"../../context\";\nimport axios from \"axios\";\n\nexport default function InitialFocus({ postId, isOpen, onOpen, onClose }) {\n  const initialRef = useRef();\n  const [user] = useContext(UserContext);\n  const [body, setBody] = useState(\"\");\n  const [comments, setComments] = useState([]);\n\n  const toast = useToast();\n\n  const fetchComments = () => {\n    axios.get(`http://localhost:8080/comments/${postId}`).then(\n      (res) => {\n        let comments = res.data;\n        comments.sort((a, b) => {\n          return new Date(b.date) - new Date(a.date);\n        });\n        setComments(comments);\n      },\n      (err) => {\n        console.warn(err);\n      },\n    );\n  };\n\n  useEffect(() => {\n    fetchComments();\n  }, []);\n\n  const handleSubmitComment = () => {\n    axios\n      .post(\"https://3mftky-8080.csb.app/comments/createComment\", {\n        postId: postId,\n        author: user.user.id,\n        authorName: user.user.firstName + \" \" + user.user.lastName,\n        body: body,\n      })\n      .then(\n        (res) => {\n          setBody(\"\");\n          toast({\n            title: \"Comment created successfully!\",\n            description: \"\",\n            status: \"success\",\n            duration: 2000,\n            isClosable: true,\n          });\n          fetchComments();\n        },\n        (error) => {\n          toast({\n            title: \"Unable to create comment\",\n            description: error.response.data.errors[0],\n            status: \"error\",\n            duration: 2000,\n            isClosable: true,\n          });\n        },\n      );\n  };\n\n  return (\n    <>\n      <Modal\n        initialFocusRef={initialRef}\n        isOpen={isOpen}\n        onClose={onClose}\n        isCentered\n        motionPreset=\"slideInBottom\"\n      >\n        <ModalOverlay bg=\"\" />\n        <ModalContent>\n          <ModalHeader>\n            <Center>\n              <Heading fontSize={\"xx-large\"} mb={5}>\n                {\" \"}\n                Comments{\" \"}\n              </Heading>\n            </Center>\n            <Comments\n              setComments={setComments}\n              comments={comments}\n              postId={postId}\n              fetchComments={fetchComments}\n            />\n          </ModalHeader>\n          <ModalCloseButton />\n          <ModalBody pb={6}>\n            <FormControl>\n              <FormLabel>New Comment</FormLabel>\n              <Textarea\n                placeholder=\"Enter comment\"\n                value={body}\n                onChange={(event) => setBody(event.target.value)}\n                maxLength={75}\n              />\n            </FormControl>\n          </ModalBody>\n\n          <ModalFooter>\n            <Button\n              colorScheme={\"blue\"}\n              mr={3}\n              leftIcon={<ChatIcon />}\n              onClick={handleSubmitComment}\n            >\n              Post Comment\n            </Button>\n            <Button onClick={onClose}>Cancel</Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}